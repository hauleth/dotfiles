#!/bin/bash

SEP=î‚²
SEPE=$(echo -e "\ue0b3")

CLOCK=âŒš
CALENDAR=ðŸ“†
MUSIC=â™«

WIDTH="${1}"

SMALL=80
MEDIUM=140

if [ "$WIDTH" -gt "$MEDIUM" ]; then
  if type mpc >/dev/null; then
    MPD="#[fg=colour15,bg=default,nobold,noitalics,nounderscore]$SEP#[fg=colour00,bg=colour15,bold,noitalics,nounderscore] $MUSICÂ $(mpc current)"
  fi
fi

if [ "$WIDTH" -ge "$SMALL" ]; then
  UNAME="#[fg=colour15,bg=colour08,nobold,noitalics,nounderscore]$SEP#[fg=colour00,bg=colour15,bold,noitalics,nounderscore]Â $(uname -n)"
fi

DATE="#[fg=colour08,nobold,noitalics,nounderscore]$SEP#[fg=colour00,bg=colour08,nobold,noitalics,nounderscore] $CALENDAR $(date +'%d.%m.%y')"
TIME="#[fg=colour00,bg=colour08,nobold,noitalics,nounderscore]$SEPE#[fg=colour00,bg=colour08,nobold,noitalics,nounderscore] $CLOCK $(date +'%H:%M')"

echo "$MPD $DATE $TIME $UNAME " | sed 's/ *$/ /g'
